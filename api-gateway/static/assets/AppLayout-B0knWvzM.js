import{l as R,Q as m,q as E,v as f,w as t,f as e,a as o,r as s,x as L,u as l,i as c,e as a,aF as g,aG as M,B as q,Y as z,aH as D,aI as F,d as G,E as w,o as v}from"./index-DTfR6DO4.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"header-container"},T={class:"header-right"},U={class:"user-dropdown"},Y={__name:"AppLayout",setup($){const r=G(),x=E(),_=R(),y=m(()=>x.path),A=m(()=>_.user?.full_name||_.user?.email),S=d=>{r.push(d)},C=async d=>{if(d==="profile")r.push("/profile");else if(d==="settings")r.push("/settings");else if(d==="logout")try{await _.logout(),w.success("Выход выполнен"),r.push("/login")}catch{w.error("Ошибка выхода")}};return(d,n)=>{const u=s("el-icon"),i=s("el-menu-item"),N=s("el-sub-menu"),h=s("el-menu"),p=s("el-dropdown-item"),B=s("el-dropdown-menu"),V=s("el-dropdown"),b=s("el-header"),k=s("el-main"),I=s("el-container");return v(),f(I,{class:"app-layout"},{default:t(()=>[e(b,{class:"app-header"},{default:t(()=>[o("div",Q,[n[10]||(n[10]=o("div",{class:"header-left"},[o("div",{class:"logo"},[o("span",{class:"logo-icon"},"ЦМ"),o("span",{class:"logo-text"},"Цифровая модель УК")])],-1)),o("div",T,[e(h,{mode:"horizontal","default-active":y.value,ellipsis:!1,class:"main-menu",onSelect:S},{default:t(()=>[e(i,{index:"/participants"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(c))]),_:1}),n[0]||(n[0]=o("span",null,"Участники",-1))]),_:1}),l(_).isAdmin?(v(),f(N,{key:0,index:"admin"},{title:t(()=>[e(u,null,{default:t(()=>[e(l(g))]),_:1}),n[1]||(n[1]=o("span",null,"Админ",-1))]),default:t(()=>[e(i,{index:"/admin/users"},{default:t(()=>[...n[2]||(n[2]=[a(" Пользователи ",-1)])]),_:1}),e(i,{index:"/admin/weights"},{default:t(()=>[...n[3]||(n[3]=[a(" Весовые таблицы ",-1)])]),_:1}),e(i,{index:"/admin/competencies"},{default:t(()=>[...n[4]||(n[4]=[a(" Словарь компетенций ",-1)])]),_:1}),e(i,{index:"/admin/metric-generate"},{default:t(()=>[...n[5]||(n[5]=[a(" AI Генерация ",-1)])]),_:1}),e(i,{index:"/admin/audit-log"},{default:t(()=>[...n[6]||(n[6]=[a(" Журнал аудита ",-1)])]),_:1})]),_:1})):L("",!0)]),_:1},8,["default-active"]),e(V,{onCommand:C},{dropdown:t(()=>[e(B,null,{default:t(()=>[e(p,{command:"profile"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(c))]),_:1}),n[7]||(n[7]=a(" Профиль ",-1))]),_:1}),e(p,{command:"settings"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(g))]),_:1}),n[8]||(n[8]=a(" Настройки ",-1))]),_:1}),e(p,{divided:"",command:"logout"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(D))]),_:1}),n[9]||(n[9]=a(" Выход ",-1))]),_:1})]),_:1})]),default:t(()=>[o("span",U,[e(u,null,{default:t(()=>[e(l(M))]),_:1}),o("span",null,q(A.value),1),e(u,{class:"el-icon--right"},{default:t(()=>[e(l(z))]),_:1})])]),_:1})])])]),_:1}),e(k,{class:"app-main"},{default:t(()=>[F(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},K=H(Y,[["__scopeId","data-v-295d849c"]]);export{K as A};
